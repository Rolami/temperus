@page "/cptimer"
@rendermode InteractiveServer


<!-- Cocporns code sample: -->
 

<PageTitle>Counter</PageTitle>

<h1>Counter</h1>

<p role="status">Current count: @currentCount</p>

<button class="btn btn-primary" @onclick="IncrementCount">Click me</button>

@code {
    private int currentCount = 0;

    // Add a timer to the component which increments the count every second
    protected override void OnInitialized()
    {
        var timer = new System.Timers.Timer(1000);
        timer.Elapsed += (sender, e) => InvokeAsync(IncrementCount);
        timer.Start();
        
    }

    private void IncrementCount()
    {
        currentCount++;
        StateHasChanged();
    }
}